{% extends "::base.html.twig" %}

{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" href="{{ asset('assets/vendor/fullcalendar/dist/fullcalendar.min.css') }}"/>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script type="text/javascript" src="{{ asset('assets/vendor/moment/min/moment.min.js') }}"></script>
	<script type="text/javascript" src="{{ asset('assets/vendor/fullcalendar/dist/fullcalendar.min.js') }}"></script>

	<script type="text/javascript">
		{# override default to add env <script type="text/javascript" src="{{ asset('bundles/fullcalendar/js/fullcalendar/fullcalendar.default-settings.js') }}"> </script> #}

		$(function () {
			$('#calendar-holder').fullCalendar({
				header: {
					left: 'prev, next',
					center: 'title',
					right: 'month, basicWeek, basicDay,'
				},
				lazyFetching: true,
				timeFormat: {
					agenda: 'h:mmt',
					'': 'h:mmt'
				},
				eventSources: [
					{
						url: '{{ app.environment == 'dev' ? '/app_dev.php' : '/app.php' }}/full-calendar/load', // todo fix this
						type: 'POST',
						data: {
						},
						error: function () {
						}
					}
				]
			});
		});
	</script>
{% endblock %}

{% block title %}Calendar{% endblock %}

{% block body %}
	{% include '::nav.html.twig' %}
	<div class="container">
		<div class="page-header">
			<h1>Calendar</h1>
		</div>
		{% include '@FullCalendar/Calendar/calendar.html.twig' %}
	</div>
{% endblock %}

